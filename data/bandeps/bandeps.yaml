bans:
  - packages:
      use:
        - ./private/...
    deps:
      use:
        - ./internal/...
      except:
        - ./internal/privateusage/...
    note: Packages in private cannot depend on internal.
  - packages:
      use:
        - ./...
      except:
        - ./cmd/...
        - ./internal/buf/cmd/...
    deps:
      use:
        - ./internal/buf/cmd/...
    note: Packages in internal/buf/cmd should be self-contained.
  - packages:
      use:
        - ./internal/...
      except:
        - ./internal/buf/bufcli/...
        - ./internal/buf/cmd/...
    deps:
      use:
        - ./internal/buf/bufcli/...
    note: Package bufcli can only be depended on by cmd packages.
