-- a.proto --
syntax = "proto3";
package pkg;
message Bar {
  FooEnum foo_enum = 1;
  Foo.NestedFoo nested_foo = 2;
  enum NestedBarEnum {
    NESTED_BAR_ENUM_X = 0;
    NESTED_BAR_ENUM_Y = 1;
  }
}
message Foo {
  message NestedFoo {
    string nested_x = 1;
    message NestedNestedFoo {
      string nested_nested_x = 1;
    }
  }
}
enum FooEnum {
  FOO_ENUM_X = 0;
  FOO_ENUM_Y = 1;
}
